<html>
  <head>
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>
  <script src="js/colorpicker.js"></script>
  <script src="js/chroma.js"></script>
  <script src="js/color-scheme.js"></script>
  </head>
  <body>
    <div class="container">
      <div id="color_row" class="row">
        <div class="col-md-3">
          <div id="picker" class="col-md-10" style="height:200px"></div>
          <div id="slide" class="col-md-2" style="height:200px"></div>
        </div>
        <div class="col-md-1">
          <div class="btn-group">
            <button type="button" id="scheme_selection" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
              Monochromatic
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" id="scheme_buttons">
              <li>
                <a href="#">Monochromatic</a>
              </li>
              <li>
                <a href="#">Contrast</a>
              </li>
              <li>
                <a href="#">Triade</a>
              </li>
              <li>
                <a href="#">Tetrade</a>
              </li>
              <li>
                <a href="#">Analogic</a>
              </li>
            </ul>
            <button id="add-complement" type="button" data-toggle="button" class="btn hide">Add Complement</button>
          </div>
          Steps
          <input id="steps" checked="checked" type="number" value="9" style="width: 40px;"/>
        </div>
      </div>
      <div id="chart_row" class="row"></div>
    </div>
    <script>
              d3.selectAll("#scheme_buttons li a").on("click",function(){
                var selText = $(this).text();
               $(this).parents(".btn-group").find(".dropdown-toggle").html(selText+" <span class='caret'></span>");
              })
              var scheme = new ColorScheme;
              ColorPicker(
                document.getElementById("slide"),
                document.getElementById("picker"),
                function(hex, hsv, rgb) {
                  document.getElementById("color_row").style.backgroundColor = hex;
                  var bezInterpolator = chroma.interpolate.bezier(
                      scheme.from_hex( hex.replace("#", "") )
                      .scheme(d3.select("#scheme_selection").text().toLowerCase().replace(/[ \t\r\n]+/g,""))
                      .colors().map(function(col){return "#" + col})
                  )
                  var scale = chroma.scale(bezInterpolator)
                                .domain([0,+d3.select("#steps")[0][0].value],d3.select("#steps")[0][0].value)
                                .correctLightness(true);
                  console.log(d3.range(0,d3.select("#steps")[0][0].value,1).map(function(d){return scale(d).hex()}));
                });
        </script>
  </body>
</html> 