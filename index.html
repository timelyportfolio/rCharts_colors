<html>
  <head>
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>
  <script src="http://timelyportfolio.github.io/rCharts_dimple/js/d3-grid.js"></script>
  <script src="js/colorpicker.js"></script>
  <script src="js/chroma.js"></script>
  <script src="js/color-scheme.min.js"></script>
  </head>
  <body>
    <a href="https://github.com/timelyportfolio/rCharts_colors">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"/>
    </a>
    <div class="container">
      <div class="page-header">
        <h1>
          rCharts + dimple Color Picker
          <small>
            built with 
            <a href="http://shiny.rstudio.com/articles/html-tags.html" target="_blank"> Shiny Tags </a>
          </small>
        </h1>
      </div>
      <div id="color_row" class="row">
        <div class="col-md-3">
          <div id="picker" class="col-md-10" style="height:200px"></div>
          <div id="slide" class="col-md-2" style="height:200px"></div>
        </div>
        <div class="col-md-2">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4>
                <a href="http://brianhann.com/color-scheme-js/" target="_blank">color-scheme.js</a>
              </h4>
            </div>
            <div class="panel-body">
              <div class="btn-group-vertical">
                <div class="btn-group">
                  <button type="button" id="scheme_selection" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                    Monochromatic
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" id="scheme_buttons">
                    <li>
                      <a href="#">Monochromatic</a>
                    </li>
                    <li>
                      <a href="#">Contrast</a>
                    </li>
                    <li>
                      <a href="#">Triade</a>
                    </li>
                    <li>
                      <a href="#">Tetrade</a>
                    </li>
                    <li>
                      <a href="#">Analogic</a>
                    </li>
                  </ul>
                </div>
                <div class="btn-group">
                  <button type="button" id="variation_selection" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                    Default
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" id="variation_buttons">
                    <li>
                      <a href="#">Default</a>
                    </li>
                    <li>
                      <a href="#">Pastel</a>
                    </li>
                    <li>
                      <a href="#">Soft</a>
                    </li>
                    <li>
                      <a href="#">Light</a>
                    </li>
                    <li>
                      <a href="#">Hard</a>
                    </li>
                    <li>
                      <a href="#">Pale</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-2">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4>
                <a href="https://vis4.net/blog/posts/mastering-multi-hued-color-scales" target="_blank">chroma.js</a>
              </h4>
            </div>
            <div class="panel-body">
              <label>
                Steps
                <input id="steps" checked="checked" type="number" value="9" style="width: 40px;"/>
              </label>
              <div class="checkbox">
                <label>
                  <input id="bez" type="checkbox"/>
                  Bezier
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input id="coL" type="checkbox"/>
                  Lightness
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-5" id="palette"></div>
      </div>
      <div id="chart_row" class="row">
        <div class="col-md-3">
          Select a color with the color picker above and then create
             a palette with some nice javascript color libraries.
          <hr/>
          This site was created entirely in R with rCharts, magrittr, and shiny based on
            an
          <a href="https://github.com/danielkrizian/rChartsDygraphs/issues/11" target="_blank">idea from Ramnath Vaidyanathan.</a>
           On the Javascript side of the world, we used 
          <ul class="nav nav-pills nav-stacked">
            <li>
              <a href="http://www.daviddurman.com/flexi-color-picker/" target="_blank">
                <span class="badge">1</span>
                flexi-color-picker
              </a>
            </li>
            <li>
              <a href="https://vis4.net/blog/posts/mastering-multi-hued-color-scales" target="_blank">
                <span class="badge">2</span>
                chroma.js
              </a>
            </li>
            <li>
              <a href="http://brianhann.com/color-scheme-js/" target="_blank">
                <span class="badge">3</span>
                color-scheme.js
              </a>
            </li>
            <li>
              <a href="http://dimplejs.org/" target="_blank">
                <span class="badge">4</span>
                dimple.js
              </a>
            </li>
            <li>
              <a href="http://dimplejs.org/" target="_blank">
                <span class="badge">5</span>
                dimple.js
              </a>
            </li>
            <li>
              <a href="http://getbootstrap.com/" target="_blank">
                <span class="badge">6</span>
                bootstrap
              </a>
            </li>
          </ul>
        </div>
        <div class="col-md-9">
<div id = 'chart10682b162077' class = 'rChart dimple'></div>
<script>
var chart10682b162077 = (function() {
  var opts = {
 "dom": "chart10682b162077",
"width":    900,
"height":    500,
"xAxis": {
 "type": "addCategoryAxis",
"showPercent": false,
"orderRule": ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'] 
},
"yAxis": {
 "type": "addMeasureAxis",
"showPercent": false 
},
"zAxis": [],
"colorAxis": [],
"defaultColors": [],
"layers": [],
"legend": [],
"x": "x",
"y": "y",
"groups": "grp",
"type": "bar",
"id": "chart10682b162077" 
},
    data = [{"x":"Aug","y":7548.52587194182,"grp":"A"},{"x":"Jun","y":5547.60706843808,"grp":"A"},{"x":"Aug","y":9053.09921503067,"grp":"A"},{"x":"Jun","y":3637.37767236307,"grp":"A"},{"x":"Aug","y":4014.9495343212,"grp":"A"},{"x":"Jun","y":3795.69928185083,"grp":"A"},{"x":"Nov","y":4279.94398772717,"grp":"A"},{"x":"Mar","y":5531.54363296926,"grp":"A"},{"x":"Sep","y":4664.82066572644,"grp":"A"},{"x":"Nov","y":9927.26034601219,"grp":"A"},{"x":"Dec","y":8744.94867655449,"grp":"A"},{"x":"Nov","y":3778.34607264958,"grp":"A"},{"x":"Apr","y":6896.56030619517,"grp":"A"},{"x":"Nov","y":8129.12957579829,"grp":"A"},{"x":"Feb","y":4574.48507100344,"grp":"A"},{"x":"Jan","y":1701.42050436698,"grp":"A"},{"x":"Sep","y":1394.97040049173,"grp":"A"},{"x":"Jan","y":3848.44424948096,"grp":"A"},{"x":"Mar","y":2401.10015869141,"grp":"A"},{"x":"Mar","y":3933.67627519183,"grp":"A"},{"x":"Apr","y":6753.99644835852,"grp":"A"},{"x":"Feb","y":3540.74659780599,"grp":"A"},{"x":"Aug","y":4525.8703448344,"grp":"A"},{"x":"Jun","y":5110.98648607731,"grp":"A"},{"x":"Oct","y":1256.1153084971,"grp":"A"},{"x":"Apr","y":2943.73956182972,"grp":"A"},{"x":"Jan","y":1769.8899412062,"grp":"A"},{"x":"Feb","y":5878.67381400429,"grp":"A"},{"x":"Sep","y":7416.42815084197,"grp":"A"},{"x":"Oct","y":7552.27482900955,"grp":"A"},{"x":"Sep","y":2606.19993554428,"grp":"A"},{"x":"Apr","y":3831.06452203356,"grp":"A"},{"x":"Apr","y":4391.09408599325,"grp":"A"},{"x":"Nov","y":5831.68387995102,"grp":"A"},{"x":"May","y":8940.1806043461,"grp":"A"},{"x":"Feb","y":3386.4524718374,"grp":"A"},{"x":"Jun","y":7113.12434100546,"grp":"A"},{"x":"Aug","y":9833.62101367675,"grp":"A"},{"x":"Aug","y":2131.85458630323,"grp":"A"},{"x":"Apr","y":6218.4259693604,"grp":"A"},{"x":"Aug","y":5586.65802632459,"grp":"A"},{"x":"Mar","y":1546.5314979665,"grp":"A"},{"x":"Jun","y":9903.38651905768,"grp":"A"},{"x":"Sep","y":9073.98821692914,"grp":"A"},{"x":"Apr","y":5971.38513135724,"grp":"A"},{"x":"Sep","y":2933.8791873306,"grp":"A"},{"x":"Apr","y":1248.81538748741,"grp":"A"},{"x":"Jul","y":6537.73399651982,"grp":"A"},{"x":"Feb","y":8949.76316904649,"grp":"A"},{"x":"May","y":7351.33498441428,"grp":"A"},{"x":"Nov","y":3750.77835982665,"grp":"A"},{"x":"Feb","y":1471.47759213112,"grp":"A"},{"x":"Apr","y":8014.56473837607,"grp":"A"},{"x":"Jan","y":2593.40708726086,"grp":"A"},{"x":"Jul","y":4490.92320445925,"grp":"A"},{"x":"Dec","y":5858.62253722735,"grp":"A"},{"x":"Jul","y":3456.53349719942,"grp":"A"},{"x":"Feb","y":3431.02425825782,"grp":"A"},{"x":"Sep","y":1465.16301203519,"grp":"A"},{"x":"Jul","y":6992.18619149178,"grp":"A"},{"x":"Oct","y":4724.14132440463,"grp":"A"},{"x":"Sep","y":4939.25144476816,"grp":"A"},{"x":"Oct","y":2450.74338209815,"grp":"A"},{"x":"Mar","y":1373.91795357689,"grp":"A"},{"x":"May","y":8475.33862967975,"grp":"A"},{"x":"Dec","y":6738.34449518472,"grp":"A"},{"x":"Oct","y":7944.08311881125,"grp":"A"},{"x":"Jan","y":1229.6806613449,"grp":"A"},{"x":"Aug","y":1705.99669031799,"grp":"A"},{"x":"Mar","y":1649.13155836985,"grp":"A"},{"x":"Sep","y":7637.95323087834,"grp":"A"},{"x":"Aug","y":5418.03093603812,"grp":"A"},{"x":"Feb","y":7254.96423919685,"grp":"A"},{"x":"Jun","y":4897.62525819242,"grp":"A"},{"x":"Oct","y":8378.18241212517,"grp":"A"},{"x":"Jun","y":7493.46431810409,"grp":"A"},{"x":"Apr","y":7139.153620461,"grp":"A"},{"x":"Jul","y":9272.14244916104,"grp":"A"},{"x":"Apr","y":8471.4820489753,"grp":"A"},{"x":"Oct","y":6691.51484197937,"grp":"A"},{"x":"Mar","y":1915.8893735148,"grp":"A"},{"x":"Oct","y":8767.11808331311,"grp":"A"},{"x":"Jun","y":3598.29504135996,"grp":"A"},{"x":"Mar","y":7399.80560052209,"grp":"A"},{"x":"Dec","y":1885.90371003374,"grp":"A"},{"x":"Feb","y":2405.84303135984,"grp":"A"},{"x":"Oct","y":5510.61186869629,"grp":"A"},{"x":"Aug","y":4846.22301487252,"grp":"A"},{"x":"May","y":4906.27210703678,"grp":"A"},{"x":"Mar","y":7578.81301571615,"grp":"A"},{"x":"Nov","y":7061.93091603927,"grp":"A"},{"x":"Jul","y":5171.25108325854,"grp":"A"},{"x":"Oct","y":7591.37387177907,"grp":"A"},{"x":"Feb","y":6736.97228962556,"grp":"A"},{"x":"Jun","y":3352.07088571042,"grp":"A"},{"x":"Feb","y":5601.02514689788,"grp":"A"},{"x":"Dec","y":6159.99376936816,"grp":"A"},{"x":"Apr","y":7436.66039500386,"grp":"A"},{"x":"May","y":6363.24750329368,"grp":"A"},{"x":"Mar","y":5713.64592760801,"grp":"A"},{"x":"Oct","y":6153.82349002175,"grp":"A"},{"x":"Oct","y":8511.29441265948,"grp":"A"},{"x":"Jul","y":1711.11635467969,"grp":"A"},{"x":"Sep","y":6868.47095610574,"grp":"A"},{"x":"Dec","y":2424.37279573642,"grp":"A"},{"x":"Jan","y":5391.08424261212,"grp":"A"},{"x":"Aug","y":2774.91017850116,"grp":"A"},{"x":"Dec","y":9088.38938479312,"grp":"A"},{"x":"Feb","y":6013.9427066315,"grp":"A"},{"x":"Sep","y":4680.57036446407,"grp":"A"},{"x":"Nov","y":5130.78023726121,"grp":"A"},{"x":"Mar","y":9961.40450844541,"grp":"A"},{"x":"Oct","y":6198.98260687478,"grp":"A"},{"x":"Nov","y":1263.70599772781,"grp":"A"},{"x":"Jul","y":5890.76606929302,"grp":"A"},{"x":"May","y":2318.88328376226,"grp":"A"},{"x":"Oct","y":4868.77003894188,"grp":"A"},{"x":"Jun","y":2469.40278727561,"grp":"A"},{"x":"May","y":3498.09138383716,"grp":"A"},{"x":"Jul","y":8977.89516835473,"grp":"A"},{"x":"Mar","y":4959.58482078277,"grp":"A"},{"x":"Nov","y":1138.19792773575,"grp":"A"},{"x":"Dec","y":7594.95967510156,"grp":"A"},{"x":"Jun","y":9372.88136873394,"grp":"A"},{"x":"Apr","y":3742.75049148127,"grp":"A"},{"x":"May","y":6049.27539150231,"grp":"A"},{"x":"May","y":9374.65517013334,"grp":"A"},{"x":"Apr","y":7051.21700605378,"grp":"A"},{"x":"Feb","y":4731.33611329831,"grp":"A"},{"x":"Dec","y":8231.26444476657,"grp":"A"},{"x":"Dec","y":9676.3488939032,"grp":"A"},{"x":"Mar","y":3868.68009995669,"grp":"A"},{"x":"Dec","y":5467.59378956631,"grp":"A"},{"x":"Jul","y":4117.28090862744,"grp":"A"},{"x":"Apr","y":9255.47403725795,"grp":"A"},{"x":"Jun","y":6928.98545973003,"grp":"A"},{"x":"May","y":8433.32638312131,"grp":"A"},{"x":"Jan","y":4613.02893212996,"grp":"A"},{"x":"Jul","y":3110.23263214156,"grp":"A"},{"x":"Apr","y":2423.26495959423,"grp":"A"},{"x":"Sep","y":2130.87772997096,"grp":"A"},{"x":"May","y":7838.31865317188,"grp":"A"},{"x":"Jul","y":5523.35739694536,"grp":"A"},{"x":"Jul","y":1767.29222596623,"grp":"A"},{"x":"Feb","y":1386.75791234709,"grp":"A"},{"x":"Jul","y":1760.42990107089,"grp":"A"},{"x":"Aug","y":4863.62747312523,"grp":"A"},{"x":"Mar","y":6372.81845277175,"grp":"A"},{"x":"Nov","y":1307.45491175912,"grp":"A"},{"x":"Nov","y":4838.12953089364,"grp":"A"},{"x":"Oct","y":6215.02319537103,"grp":"A"},{"x":"Nov","y":3523.0251129251,"grp":"A"},{"x":"Sep","y":5111.56384204514,"grp":"A"},{"x":"Apr","y":2952.62000593357,"grp":"A"},{"x":"Feb","y":4206.20424905792,"grp":"A"},{"x":"Dec","y":8290.27745407075,"grp":"A"},{"x":"May","y":9234.7938537132,"grp":"A"},{"x":"Oct","y":6571.49996538647,"grp":"A"},{"x":"Oct","y":3686.24763377011,"grp":"A"},{"x":"May","y":9799.42914145067,"grp":"A"},{"x":"Aug","y":8584.7697861027,"grp":"A"},{"x":"Feb","y":5810.39729923941,"grp":"A"},{"x":"Sep","y":3762.68156128936,"grp":"A"},{"x":"Feb","y":3011.1750678625,"grp":"A"},{"x":"Mar","y":6314.37395652756,"grp":"A"},{"x":"Mar","y":1866.3323726505,"grp":"A"},{"x":"Feb","y":8134.36112599447,"grp":"A"},{"x":"Mar","y":3493.69129328988,"grp":"A"},{"x":"Mar","y":6131.27934723161,"grp":"A"},{"x":"Feb","y":9069.88487509079,"grp":"A"},{"x":"Jun","y":6815.4855472967,"grp":"A"},{"x":"Jun","y":5009.9455518648,"grp":"A"},{"x":"Sep","y":2688.6307564564,"grp":"A"},{"x":"Aug","y":3371.49034091271,"grp":"A"},{"x":"Feb","y":2295.79547815956,"grp":"A"},{"x":"Aug","y":2617.51894978806,"grp":"A"},{"x":"Feb","y":3563.13955411315,"grp":"A"},{"x":"Aug","y":7129.79874387383,"grp":"A"},{"x":"Feb","y":5565.14647323638,"grp":"A"},{"x":"Feb","y":1615.63209421001,"grp":"A"},{"x":"Nov","y":8388.70324287564,"grp":"A"},{"x":"Aug","y":9510.39873622358,"grp":"A"},{"x":"Feb","y":2602.87930211052,"grp":"A"},{"x":"Jun","y":2789.29065563716,"grp":"A"},{"x":"Dec","y":1870.62463629991,"grp":"A"},{"x":"Sep","y":8548.84051717818,"grp":"A"},{"x":"Jul","y":3705.7248884812,"grp":"A"},{"x":"Nov","y":5990.74316187762,"grp":"A"},{"x":"Oct","y":2632.17108231038,"grp":"A"},{"x":"Jan","y":7104.90599600598,"grp":"A"},{"x":"Jun","y":1162.99294889905,"grp":"A"},{"x":"Dec","y":1909.75147346035,"grp":"A"},{"x":"Feb","y":7890.51542547531,"grp":"A"},{"x":"Apr","y":3851.44486185163,"grp":"A"},{"x":"May","y":7443.67202045396,"grp":"A"},{"x":"Jun","y":6983.3959932439,"grp":"A"},{"x":"May","y":5872.82295431942,"grp":"A"},{"x":"May","y":8359.79191516526,"grp":"A"},{"x":"Jun","y":3292.01039834879,"grp":"A"},{"x":"Oct","y":4441.07116479427,"grp":"A"},{"x":"Oct","y":7733.05664071813,"grp":"B"},{"x":"Dec","y":9864.74599363282,"grp":"B"},{"x":"May","y":5357.81250218861,"grp":"B"},{"x":"Sep","y":9519.55074979924,"grp":"B"},{"x":"Aug","y":6012.212109752,"grp":"B"},{"x":"Nov","y":7917.13423351757,"grp":"B"},{"x":"Nov","y":9694.32778493501,"grp":"B"},{"x":"Jul","y":4021.68685989454,"grp":"B"},{"x":"Feb","y":6445.68796548992,"grp":"B"},{"x":"Apr","y":3893.73151725158,"grp":"B"},{"x":"Oct","y":2013.45058786683,"grp":"B"},{"x":"Aug","y":7145.68725321442,"grp":"B"},{"x":"Apr","y":8196.35756267235,"grp":"B"},{"x":"Jan","y":7845.72157729417,"grp":"B"},{"x":"May","y":9075.78391814604,"grp":"B"},{"x":"Sep","y":9665.51464074291,"grp":"B"},{"x":"Apr","y":6082.40479044616,"grp":"B"},{"x":"Apr","y":6740.90657057241,"grp":"B"},{"x":"May","y":3413.99914398789,"grp":"B"},{"x":"Aug","y":8590.30448039994,"grp":"B"},{"x":"May","y":4363.0118437577,"grp":"B"},{"x":"Sep","y":6792.59416740388,"grp":"B"},{"x":"Nov","y":6847.17867779545,"grp":"B"},{"x":"Jun","y":4004.72620455548,"grp":"B"},{"x":"Apr","y":9228.88498706743,"grp":"B"},{"x":"May","y":8318.85747238994,"grp":"B"},{"x":"Apr","y":9737.28078277782,"grp":"B"},{"x":"Mar","y":2432.23513197154,"grp":"B"},{"x":"Jun","y":5004.96279331855,"grp":"B"},{"x":"Jan","y":6325.29650675133,"grp":"B"},{"x":"Jan","y":8580.42345079593,"grp":"B"},{"x":"Nov","y":2537.17840160243,"grp":"B"},{"x":"Mar","y":7745.75691088103,"grp":"B"},{"x":"Aug","y":7377.32562120073,"grp":"B"},{"x":"Oct","y":6163.15517388284,"grp":"B"},{"x":"Feb","y":6668.03091391921,"grp":"B"},{"x":"Feb","y":6545.030585723,"grp":"B"},{"x":"Aug","y":2935.79366640188,"grp":"B"},{"x":"Jul","y":8794.00755977258,"grp":"B"},{"x":"Jul","y":5813.17451712675,"grp":"B"},{"x":"Feb","y":2938.00262268633,"grp":"B"},{"x":"Jan","y":8262.67994148657,"grp":"B"},{"x":"Feb","y":1939.58660424687,"grp":"B"},{"x":"Apr","y":7789.57875166088,"grp":"B"},{"x":"Oct","y":4303.70797822252,"grp":"B"},{"x":"Nov","y":3864.80219149962,"grp":"B"},{"x":"Sep","y":3254.04810509644,"grp":"B"},{"x":"Sep","y":6570.06472791545,"grp":"B"},{"x":"Sep","y":6950.44785086066,"grp":"B"},{"x":"Nov","y":7832.07990205847,"grp":"B"},{"x":"Jun","y":1881.10643043183,"grp":"B"},{"x":"Jan","y":9927.85476124845,"grp":"B"},{"x":"Oct","y":1928.19383973256,"grp":"B"},{"x":"Nov","y":9726.29652288742,"grp":"B"},{"x":"Apr","y":6750.81396754831,"grp":"B"},{"x":"Nov","y":9273.7808492966,"grp":"B"},{"x":"Mar","y":5236.12017836422,"grp":"B"},{"x":"Dec","y":6097.85826434381,"grp":"B"},{"x":"Dec","y":9310.01475639641,"grp":"B"},{"x":"Mar","y":9722.81907033175,"grp":"B"},{"x":"Mar","y":8141.44673221745,"grp":"B"},{"x":"May","y":8946.07321429066,"grp":"B"},{"x":"Jan","y":4407.51318237744,"grp":"B"},{"x":"Apr","y":4467.45845419355,"grp":"B"},{"x":"Apr","y":5120.70640921593,"grp":"B"},{"x":"May","y":1073.84456275031,"grp":"B"},{"x":"Oct","y":6787.78149862774,"grp":"B"},{"x":"Apr","y":3122.69233749248,"grp":"B"},{"x":"May","y":1297.72240528837,"grp":"B"},{"x":"Feb","y":7223.95974909887,"grp":"B"},{"x":"Feb","y":2042.90506080724,"grp":"B"},{"x":"Dec","y":6683.93069901504,"grp":"B"},{"x":"May","y":4021.40958653763,"grp":"B"},{"x":"Apr","y":5217.32068434358,"grp":"B"},{"x":"Sep","y":9900.10661329143,"grp":"B"},{"x":"Jul","y":9420.63052090816,"grp":"B"},{"x":"Mar","y":2989.20317436568,"grp":"B"},{"x":"Aug","y":9998.50549409166,"grp":"B"},{"x":"Jun","y":1054.44758152589,"grp":"B"},{"x":"Dec","y":8275.62566939741,"grp":"B"},{"x":"Apr","y":6179.20953594148,"grp":"B"},{"x":"Nov","y":3479.68871425837,"grp":"B"},{"x":"Aug","y":1192.4639698118,"grp":"B"},{"x":"Oct","y":3510.68356307223,"grp":"B"},{"x":"Jun","y":5886.38025103137,"grp":"B"},{"x":"Jul","y":9789.20480376109,"grp":"B"},{"x":"Sep","y":7010.89169923216,"grp":"B"},{"x":"Jan","y":1873.37588286027,"grp":"B"},{"x":"Jun","y":3749.59583464079,"grp":"B"},{"x":"Aug","y":5121.19192257524,"grp":"B"},{"x":"May","y":1894.78113036603,"grp":"B"},{"x":"Jun","y":3290.67704081535,"grp":"B"},{"x":"Nov","y":3618.30420955084,"grp":"B"},{"x":"Aug","y":3906.45857807249,"grp":"B"},{"x":"Feb","y":8129.22218325548,"grp":"B"},{"x":"Feb","y":5978.7813227158,"grp":"B"},{"x":"Aug","y":6584.29485885426,"grp":"B"},{"x":"Feb","y":1424.29257766344,"grp":"B"},{"x":"Jul","y":2452.4644697085,"grp":"B"},{"x":"Sep","y":5663.19959633984,"grp":"B"},{"x":"Aug","y":1977.95056877658,"grp":"B"},{"x":"Sep","y":8017.06807757728,"grp":"B"},{"x":"Feb","y":6095.63167253509,"grp":"B"},{"x":"Jul","y":3820.57823520154,"grp":"B"},{"x":"Oct","y":6234.04201865196,"grp":"B"},{"x":"Aug","y":4923.18763840012,"grp":"B"},{"x":"Jan","y":9694.54472116195,"grp":"B"},{"x":"May","y":2080.74734825641,"grp":"B"},{"x":"Sep","y":7772.92195498012,"grp":"B"},{"x":"Jun","y":9616.28229194321,"grp":"B"},{"x":"May","y":5497.40026053041,"grp":"B"},{"x":"Oct","y":5614.30098768324,"grp":"B"},{"x":"Jun","y":6899.90406949073,"grp":"B"},{"x":"Sep","y":8021.55554527417,"grp":"B"},{"x":"Aug","y":7936.77857727744,"grp":"B"},{"x":"Dec","y":4595.90380289592,"grp":"B"},{"x":"Nov","y":6474.36300106347,"grp":"B"},{"x":"Apr","y":8624.5549400337,"grp":"B"},{"x":"Jan","y":5389.79615992866,"grp":"B"},{"x":"Apr","y":2427.01640399173,"grp":"B"},{"x":"Apr","y":8134.15121170692,"grp":"B"},{"x":"Apr","y":3954.83173779212,"grp":"B"},{"x":"Aug","y":1425.59134098701,"grp":"B"},{"x":"Nov","y":5374.05693647452,"grp":"B"},{"x":"Apr","y":1348.31685316749,"grp":"B"},{"x":"Jun","y":1492.51442565583,"grp":"B"},{"x":"Sep","y":5518.16808525473,"grp":"B"},{"x":"Jul","y":1469.34340661392,"grp":"B"},{"x":"Oct","y":1446.15626288578,"grp":"B"},{"x":"Jun","y":6292.4945615232,"grp":"B"},{"x":"Mar","y":8682.44101083837,"grp":"B"},{"x":"Jan","y":4528.47158256918,"grp":"B"},{"x":"Mar","y":5114.88165915944,"grp":"B"},{"x":"Oct","y":7929.95858727954,"grp":"B"},{"x":"Oct","y":3232.83313098364,"grp":"B"},{"x":"Sep","y":4067.47949146666,"grp":"B"},{"x":"Sep","y":6568.56745807454,"grp":"B"},{"x":"Jul","y":2008.39772098698,"grp":"B"},{"x":"Nov","y":6188.49678733386,"grp":"B"},{"x":"Mar","y":3477.81212977134,"grp":"B"},{"x":"Apr","y":3436.7383022327,"grp":"B"},{"x":"Feb","y":9042.59818652645,"grp":"B"},{"x":"May","y":9571.66436314583,"grp":"B"},{"x":"Apr","y":5733.56174863875,"grp":"B"},{"x":"Aug","y":2864.39437721856,"grp":"B"},{"x":"Mar","y":1668.77845022827,"grp":"B"},{"x":"Sep","y":6133.95851152018,"grp":"B"},{"x":"Jun","y":5237.29162686504,"grp":"B"},{"x":"Jul","y":8939.09423216246,"grp":"B"},{"x":"Oct","y":5455.13650239445,"grp":"B"},{"x":"Nov","y":9145.47313144431,"grp":"B"},{"x":"Nov","y":4872.01904063113,"grp":"B"},{"x":"May","y":7113.79371350631,"grp":"B"},{"x":"Sep","y":9078.78256076947,"grp":"B"},{"x":"Oct","y":4425.93359015882,"grp":"B"},{"x":"May","y":8604.28144852631,"grp":"B"},{"x":"Oct","y":6731.73700529151,"grp":"B"},{"x":"Aug","y":4432.95534094796,"grp":"B"},{"x":"Oct","y":7693.87261802331,"grp":"B"},{"x":"Jul","y":2342.13237394579,"grp":"B"},{"x":"Jun","y":9286.35272337124,"grp":"B"},{"x":"Sep","y":7820.3627767507,"grp":"B"},{"x":"Apr","y":3589.37280718237,"grp":"B"},{"x":"May","y":5752.18103383668,"grp":"B"},{"x":"Jul","y":2927.98809031956,"grp":"B"},{"x":"Aug","y":3501.00055173971,"grp":"B"},{"x":"Oct","y":7764.7475625854,"grp":"B"},{"x":"Oct","y":8658.97041209973,"grp":"B"},{"x":"Mar","y":5870.68319064565,"grp":"B"},{"x":"Jul","y":6371.13082990982,"grp":"B"},{"x":"Mar","y":8124.08727849834,"grp":"B"},{"x":"Nov","y":3671.71102901921,"grp":"B"},{"x":"Jan","y":6989.81595691293,"grp":"B"},{"x":"Mar","y":7640.97768138163,"grp":"B"},{"x":"Jul","y":6421.31136055104,"grp":"B"},{"x":"Jun","y":6769.9398486875,"grp":"B"},{"x":"Aug","y":3761.00353570655,"grp":"B"},{"x":"Nov","y":1450.05105459131,"grp":"B"},{"x":"Nov","y":3838.11253961176,"grp":"B"},{"x":"Feb","y":2864.16153213941,"grp":"B"},{"x":"Oct","y":7069.88519965671,"grp":"B"},{"x":"Sep","y":6525.96293995157,"grp":"B"},{"x":"Oct","y":9352.61381161399,"grp":"B"},{"x":"Mar","y":9392.00750971213,"grp":"B"},{"x":"Jul","y":2601.22917569242,"grp":"B"},{"x":"Jan","y":7480.3995420225,"grp":"B"},{"x":"Mar","y":7559.47560677305,"grp":"B"},{"x":"Sep","y":8347.75617276318,"grp":"B"},{"x":"Nov","y":2429.98204496689,"grp":"B"},{"x":"Jan","y":1302.75895050727,"grp":"B"},{"x":"Nov","y":5494.72424574196,"grp":"B"},{"x":"Jun","y":7040.89122638106,"grp":"B"},{"x":"Jan","y":7596.62937745452,"grp":"B"},{"x":"Feb","y":5505.40122087114,"grp":"B"},{"x":"Jun","y":8256.22231792659,"grp":"B"},{"x":"Nov","y":7933.7627789937,"grp":"B"},{"x":"Jul","y":7696.43784710206,"grp":"B"},{"x":"Dec","y":3758.01341957413,"grp":"B"},{"x":"Nov","y":4237.09418787621,"grp":"B"},{"x":"Jul","y":9767.22044846974,"grp":"B"},{"x":"Sep","y":2963.61601934768,"grp":"C"},{"x":"Sep","y":5363.53126727045,"grp":"C"},{"x":"May","y":5255.10981795378,"grp":"C"},{"x":"Feb","y":3399.48794688098,"grp":"C"},{"x":"Aug","y":5931.99877580628,"grp":"C"},{"x":"Aug","y":9919.95517583564,"grp":"C"},{"x":"Jun","y":4821.93400710821,"grp":"C"},{"x":"Aug","y":7388.32849310711,"grp":"C"},{"x":"Aug","y":7105.87332420982,"grp":"C"},{"x":"Feb","y":9083.95049022511,"grp":"C"},{"x":"Feb","y":5189.26729052328,"grp":"C"},{"x":"Jan","y":2708.66197533906,"grp":"C"},{"x":"Mar","y":4214.83843284659,"grp":"C"},{"x":"Sep","y":4788.5586663615,"grp":"C"},{"x":"Mar","y":8765.79764229245,"grp":"C"},{"x":"Aug","y":4481.75109946169,"grp":"C"},{"x":"May","y":4513.14166630618,"grp":"C"},{"x":"Sep","y":5440.63970330171,"grp":"C"},{"x":"Oct","y":8882.50539288856,"grp":"C"},{"x":"Jul","y":8085.52189473994,"grp":"C"},{"x":"May","y":8235.44647172093,"grp":"C"},{"x":"Sep","y":1640.43302461505,"grp":"C"},{"x":"Jan","y":2587.7101381775,"grp":"C"},{"x":"Feb","y":1112.55881958641,"grp":"C"},{"x":"Apr","y":6466.23975923285,"grp":"C"},{"x":"Jul","y":4234.94430724531,"grp":"C"},{"x":"Apr","y":3578.79339321516,"grp":"C"},{"x":"Sep","y":6112.01300215907,"grp":"C"},{"x":"Aug","y":9247.69590771757,"grp":"C"},{"x":"Jan","y":3781.8258930929,"grp":"C"},{"x":"Sep","y":5311.11974013038,"grp":"C"},{"x":"Apr","y":2116.17386853322,"grp":"C"},{"x":"Apr","y":9534.42626004107,"grp":"C"},{"x":"Oct","y":7331.93489140831,"grp":"C"},{"x":"Sep","y":9977.53710928373,"grp":"C"},{"x":"Dec","y":7919.42413174547,"grp":"C"},{"x":"Jul","y":9937.61735036969,"grp":"C"},{"x":"May","y":3191.6040412616,"grp":"C"},{"x":"Apr","y":6029.67974031344,"grp":"C"},{"x":"Sep","y":9650.02285316586,"grp":"C"},{"x":"Jul","y":6153.45565439202,"grp":"C"},{"x":"Feb","y":7024.85833875835,"grp":"C"},{"x":"Apr","y":8871.09961127862,"grp":"C"},{"x":"Jan","y":4779.80582835153,"grp":"C"},{"x":"Mar","y":1707.88433053531,"grp":"C"},{"x":"Jul","y":4128.66567051969,"grp":"C"},{"x":"Dec","y":7646.23320382088,"grp":"C"},{"x":"Oct","y":3225.55052908137,"grp":"C"},{"x":"Nov","y":2040.73503636755,"grp":"C"},{"x":"Oct","y":3389.12528683431,"grp":"C"},{"x":"Jun","y":2934.67502389103,"grp":"C"},{"x":"Jun","y":8982.3721377179,"grp":"C"},{"x":"Apr","y":9745.34846935421,"grp":"C"},{"x":"Apr","y":3073.50846542977,"grp":"C"},{"x":"Nov","y":4084.59474053234,"grp":"C"},{"x":"May","y":9603.87701867148,"grp":"C"},{"x":"Mar","y":9118.97120904177,"grp":"C"},{"x":"Apr","y":5037.7290903125,"grp":"C"},{"x":"Jul","y":3643.61515152268,"grp":"C"},{"x":"Jul","y":6791.44720034674,"grp":"C"},{"x":"May","y":9498.99197393097,"grp":"C"},{"x":"Nov","y":1353.37550356053,"grp":"C"},{"x":"Feb","y":7335.64136270434,"grp":"C"},{"x":"Jul","y":3691.27215095796,"grp":"C"},{"x":"Feb","y":8299.34865771793,"grp":"C"},{"x":"Mar","y":7701.52649842203,"grp":"C"},{"x":"May","y":1039.20669783838,"grp":"C"},{"x":"Aug","y":4711.46914199926,"grp":"C"},{"x":"Nov","y":4933.96721431054,"grp":"C"},{"x":"Sep","y":3121.61865551025,"grp":"C"},{"x":"Jul","y":3931.99464748614,"grp":"C"},{"x":"Dec","y":8888.5295484215,"grp":"C"},{"x":"May","y":8921.9618064817,"grp":"C"},{"x":"Dec","y":8901.46348089911,"grp":"C"},{"x":"Aug","y":7091.63207467645,"grp":"C"},{"x":"Sep","y":7960.32927767374,"grp":"C"},{"x":"Jun","y":5881.74267392606,"grp":"C"},{"x":"Jun","y":5064.86190389842,"grp":"C"},{"x":"Jan","y":2051.27551849,"grp":"C"},{"x":"May","y":1863.68036991917,"grp":"C"},{"x":"Oct","y":9837.3775689397,"grp":"C"},{"x":"Nov","y":5891.15375746042,"grp":"C"},{"x":"May","y":7988.73042617925,"grp":"C"},{"x":"Aug","y":2144.09792120568,"grp":"C"},{"x":"Sep","y":9939.90095588379,"grp":"C"},{"x":"Apr","y":1323.75407358631,"grp":"C"},{"x":"Oct","y":8867.22999461927,"grp":"C"},{"x":"Feb","y":3698.65569192916,"grp":"C"},{"x":"Apr","y":9359.71210803837,"grp":"C"},{"x":"Sep","y":9041.43299511634,"grp":"C"},{"x":"Apr","y":4218.02396257408,"grp":"C"},{"x":"May","y":4384.10109141842,"grp":"C"},{"x":"Jan","y":1814.49272390455,"grp":"C"},{"x":"Jun","y":9128.65235749632,"grp":"C"},{"x":"Jun","y":2118.57617436908,"grp":"C"},{"x":"Mar","y":2235.92979460955,"grp":"C"},{"x":"Jun","y":7046.63615347818,"grp":"C"},{"x":"Jan","y":2646.66309114546,"grp":"C"},{"x":"Jul","y":3151.07096382417,"grp":"C"},{"x":"Oct","y":1183.03777789697,"grp":"C"},{"x":"May","y":2667.18427627347,"grp":"C"},{"x":"Apr","y":6540.05084885284,"grp":"C"},{"x":"Jul","y":4260.97623119131,"grp":"C"},{"x":"Jul","y":5853.69085380808,"grp":"C"},{"x":"Sep","y":8003.52083495818,"grp":"C"},{"x":"May","y":9936.99316470884,"grp":"C"},{"x":"Feb","y":9839.47992208414,"grp":"C"},{"x":"Nov","y":3750.90156961232,"grp":"C"},{"x":"Apr","y":7267.53717358224,"grp":"C"},{"x":"Sep","y":5488.28181438148,"grp":"C"},{"x":"Feb","y":5511.50039443746,"grp":"C"},{"x":"Nov","y":2723.59091811813,"grp":"C"},{"x":"Jul","y":5454.04002792202,"grp":"C"},{"x":"Feb","y":8715.45997611247,"grp":"C"},{"x":"Sep","y":2506.09085313044,"grp":"C"},{"x":"Nov","y":3927.49281949364,"grp":"C"},{"x":"Jan","y":1862.73805331439,"grp":"C"},{"x":"Mar","y":4410.7300080359,"grp":"C"},{"x":"Sep","y":6229.79571926408,"grp":"C"},{"x":"Feb","y":3636.38137839735,"grp":"C"},{"x":"Oct","y":8534.80635304004,"grp":"C"},{"x":"May","y":6614.97578443959,"grp":"C"},{"x":"Oct","y":6801.82550940663,"grp":"C"},{"x":"Sep","y":9409.02890241705,"grp":"C"},{"x":"Mar","y":1889.04201192781,"grp":"C"},{"x":"Sep","y":3138.54571408592,"grp":"C"},{"x":"Feb","y":9637.01940746978,"grp":"C"},{"x":"May","y":2420.20121053793,"grp":"C"},{"x":"Sep","y":6132.53142545,"grp":"C"},{"x":"Aug","y":4533.44625467435,"grp":"C"},{"x":"Oct","y":4474.87239842303,"grp":"C"},{"x":"Feb","y":9197.16430525295,"grp":"C"},{"x":"Jul","y":7941.9456559699,"grp":"C"},{"x":"Sep","y":8946.71572907828,"grp":"C"},{"x":"Dec","y":3418.96756947972,"grp":"C"},{"x":"Mar","y":5447.1128564328,"grp":"C"},{"x":"Sep","y":3351.25786834396,"grp":"C"},{"x":"Aug","y":1910.00895714387,"grp":"C"},{"x":"Oct","y":5905.80804413185,"grp":"C"},{"x":"Oct","y":3932.49276932329,"grp":"C"},{"x":"Sep","y":8767.99216913059,"grp":"C"},{"x":"Apr","y":9196.79183233529,"grp":"C"},{"x":"Jun","y":7553.86081291363,"grp":"C"},{"x":"Apr","y":9115.39791361429,"grp":"C"},{"x":"Feb","y":8753.59477731399,"grp":"C"},{"x":"Nov","y":3544.08040340059,"grp":"C"},{"x":"Apr","y":8962.98026735894,"grp":"C"},{"x":"Feb","y":5922.41484485567,"grp":"C"},{"x":"May","y":2634.66389803216,"grp":"C"},{"x":"Nov","y":8499.28753753193,"grp":"C"},{"x":"May","y":8453.83731508628,"grp":"C"},{"x":"Sep","y":4613.6756776832,"grp":"C"},{"x":"Dec","y":5722.11949946359,"grp":"C"},{"x":"May","y":6649.80900636874,"grp":"C"},{"x":"May","y":8859.68279279768,"grp":"C"},{"x":"Nov","y":3810.20068051293,"grp":"C"},{"x":"Nov","y":7789.02266267687,"grp":"C"},{"x":"Aug","y":2664.59041251801,"grp":"C"},{"x":"Apr","y":7399.78462690488,"grp":"C"},{"x":"Jun","y":8581.95744804107,"grp":"C"},{"x":"Feb","y":3447.91506510228,"grp":"C"},{"x":"Oct","y":8237.68745316193,"grp":"C"},{"x":"Sep","y":3313.80165345035,"grp":"C"},{"x":"Nov","y":5385.2036439348,"grp":"C"},{"x":"Feb","y":2861.892366549,"grp":"C"},{"x":"Sep","y":4706.70845150016,"grp":"C"},{"x":"Apr","y":3512.97251624055,"grp":"C"},{"x":"Jul","y":2006.19368278421,"grp":"C"},{"x":"Dec","y":3682.25709558465,"grp":"C"},{"x":"Jun","y":9580.58502990752,"grp":"C"},{"x":"Dec","y":3733.70140348561,"grp":"C"},{"x":"May","y":8514.98486613855,"grp":"C"},{"x":"Jun","y":8395.66839276813,"grp":"C"},{"x":"Jun","y":1620.7006436307,"grp":"C"},{"x":"Sep","y":5499.32049587369,"grp":"C"},{"x":"Dec","y":7140.53472760133,"grp":"C"},{"x":"Feb","y":2455.13429236598,"grp":"C"},{"x":"May","y":6033.21462986059,"grp":"C"},{"x":"Oct","y":3129.7480748035,"grp":"C"},{"x":"Mar","y":5711.21423481964,"grp":"C"},{"x":"Jun","y":6213.87284831144,"grp":"C"},{"x":"Oct","y":6040.9189441707,"grp":"C"},{"x":"Oct","y":9920.44483614154,"grp":"C"},{"x":"Mar","y":1058.45593754202,"grp":"C"},{"x":"Sep","y":9107.29852458462,"grp":"C"},{"x":"Oct","y":1594.44951615296,"grp":"C"},{"x":"Aug","y":7430.65200163983,"grp":"C"},{"x":"Jun","y":9850.96225771122,"grp":"C"},{"x":"Feb","y":5289.12053420208,"grp":"C"},{"x":"Sep","y":6651.01778577082,"grp":"C"},{"x":"Jul","y":5643.97064293735,"grp":"C"},{"x":"Nov","y":3314.12707665004,"grp":"C"},{"x":"Feb","y":3267.37777027301,"grp":"C"},{"x":"Aug","y":3346.20452160016,"grp":"C"},{"x":"Feb","y":7848.49910740741,"grp":"C"},{"x":"Nov","y":4694.84228547663,"grp":"C"},{"x":"Dec","y":3336.31417551078,"grp":"C"},{"x":"Feb","y":6044.73172314465,"grp":"C"},{"x":"Aug","y":7529.29025283083,"grp":"C"},{"x":"May","y":3164.6785477642,"grp":"C"},{"x":"Nov","y":4126.18805118836,"grp":"D"},{"x":"Nov","y":7236.84046696872,"grp":"D"},{"x":"Jun","y":5793.09047549032,"grp":"D"},{"x":"Oct","y":9550.39517907426,"grp":"D"},{"x":"Oct","y":1254.17974055745,"grp":"D"},{"x":"Sep","y":6722.04725909978,"grp":"D"},{"x":"Feb","y":5137.44518300518,"grp":"D"},{"x":"Feb","y":7697.39784952253,"grp":"D"},{"x":"Mar","y":1840.4364681337,"grp":"D"},{"x":"Jul","y":1865.83532788791,"grp":"D"},{"x":"Dec","y":7935.85049314424,"grp":"D"},{"x":"Nov","y":2180.84879056551,"grp":"D"},{"x":"Oct","y":4418.68861671537,"grp":"D"},{"x":"Jul","y":2303.89999481849,"grp":"D"},{"x":"May","y":3561.02025904693,"grp":"D"},{"x":"Jun","y":2536.44120693207,"grp":"D"},{"x":"Jul","y":6690.83518069237,"grp":"D"},{"x":"Sep","y":4740.874721203,"grp":"D"},{"x":"Oct","y":2110.08405545726,"grp":"D"},{"x":"May","y":4069.09306230955,"grp":"D"},{"x":"Nov","y":6110.75503774919,"grp":"D"},{"x":"Jul","y":4186.80004263297,"grp":"D"},{"x":"Apr","y":7908.93213683739,"grp":"D"},{"x":"Jun","y":8465.1958332397,"grp":"D"},{"x":"May","y":3933.54423088022,"grp":"D"},{"x":"Apr","y":3645.42268379591,"grp":"D"},{"x":"Aug","y":4591.89972584136,"grp":"D"},{"x":"Nov","y":1023.02733855322,"grp":"D"},{"x":"Nov","y":6055.1648393739,"grp":"D"},{"x":"Oct","y":4635.54887007922,"grp":"D"},{"x":"Apr","y":6473.10306900181,"grp":"D"},{"x":"Sep","y":3395.07086621597,"grp":"D"},{"x":"Jul","y":1443.45842581242,"grp":"D"},{"x":"Mar","y":5501.3088802807,"grp":"D"},{"x":"Dec","y":7357.05071315169,"grp":"D"},{"x":"May","y":7446.50865136646,"grp":"D"},{"x":"Jan","y":2176.09950783663,"grp":"D"},{"x":"Feb","y":7226.05789243244,"grp":"D"},{"x":"Apr","y":4535.94769327901,"grp":"D"},{"x":"Sep","y":3111.19801783934,"grp":"D"},{"x":"Mar","y":8939.87025599927,"grp":"D"},{"x":"Dec","y":6423.01334580407,"grp":"D"},{"x":"Jun","y":1262.76029692963,"grp":"D"},{"x":"Oct","y":9217.13640447706,"grp":"D"},{"x":"Apr","y":6462.03935495578,"grp":"D"},{"x":"Jul","y":3540.76880565844,"grp":"D"},{"x":"Jul","y":8847.65485394746,"grp":"D"},{"x":"Jan","y":1433.50591743365,"grp":"D"},{"x":"Jan","y":9051.10702104867,"grp":"D"},{"x":"Nov","y":5208.71185371652,"grp":"D"},{"x":"Feb","y":6015.47751692124,"grp":"D"},{"x":"Feb","y":8911.20589897037,"grp":"D"},{"x":"May","y":3591.8940207921,"grp":"D"},{"x":"Oct","y":2021.97390631773,"grp":"D"},{"x":"Aug","y":9360.62208935618,"grp":"D"},{"x":"Sep","y":3601.96489840746,"grp":"D"},{"x":"Jul","y":6378.1839478761,"grp":"D"},{"x":"Jun","y":9987.87262034602,"grp":"D"},{"x":"Jul","y":1470.92764079571,"grp":"D"},{"x":"Feb","y":5573.49894964136,"grp":"D"},{"x":"Feb","y":3646.19545126334,"grp":"D"},{"x":"Jul","y":7286.66984825395,"grp":"D"},{"x":"Sep","y":5972.96146769077,"grp":"D"},{"x":"Jun","y":3170.64623651095,"grp":"D"},{"x":"Dec","y":2323.79301078618,"grp":"D"},{"x":"Aug","y":4972.27201517671,"grp":"D"},{"x":"Nov","y":1984.56803523004,"grp":"D"},{"x":"Jun","y":6967.46928757057,"grp":"D"},{"x":"Mar","y":8185.16848678701,"grp":"D"},{"x":"Dec","y":1241.05886230245,"grp":"D"},{"x":"Sep","y":7467.13803848252,"grp":"D"},{"x":"Apr","y":5092.89729129523,"grp":"D"},{"x":"May","y":3243.66146861576,"grp":"D"},{"x":"Jun","y":3238.10963542201,"grp":"D"},{"x":"Oct","y":3787.73553296924,"grp":"D"},{"x":"Jan","y":9933.90357214957,"grp":"D"},{"x":"Aug","y":3299.55776152201,"grp":"D"},{"x":"Nov","y":7130.51130413078,"grp":"D"},{"x":"May","y":7664.6300542634,"grp":"D"},{"x":"Nov","y":8289.82452955097,"grp":"D"},{"x":"Aug","y":8200.82198432647,"grp":"D"},{"x":"Feb","y":6424.40782417543,"grp":"D"},{"x":"May","y":9322.89465493523,"grp":"D"},{"x":"Jul","y":5118.80915495567,"grp":"D"},{"x":"Oct","y":7726.28151904792,"grp":"D"},{"x":"Oct","y":1794.49354065582,"grp":"D"},{"x":"May","y":7031.21440298855,"grp":"D"},{"x":"Nov","y":3121.18323240429,"grp":"D"},{"x":"May","y":3545.8251950331,"grp":"D"},{"x":"Mar","y":9803.88934491202,"grp":"D"},{"x":"Feb","y":6396.90407156013,"grp":"D"},{"x":"Mar","y":6362.07620985806,"grp":"D"},{"x":"Jun","y":9727.57531842217,"grp":"D"},{"x":"Apr","y":2565.37967524491,"grp":"D"},{"x":"Mar","y":2437.40336108021,"grp":"D"},{"x":"Apr","y":3366.32568878122,"grp":"D"},{"x":"Mar","y":8891.00247807801,"grp":"D"},{"x":"Dec","y":2176.50063848123,"grp":"D"},{"x":"Jul","y":5033.8278550189,"grp":"D"},{"x":"Oct","y":6078.26688792557,"grp":"D"},{"x":"Mar","y":7116.37395457365,"grp":"D"},{"x":"Feb","y":8794.2021288909,"grp":"D"},{"x":"Jun","y":1189.60855924524,"grp":"D"},{"x":"Aug","y":2717.04757283442,"grp":"D"},{"x":"Apr","y":8210.107188439,"grp":"D"},{"x":"Jul","y":7215.18449997529,"grp":"D"},{"x":"Feb","y":4026.23539394699,"grp":"D"},{"x":"May","y":2133.03520460613,"grp":"D"},{"x":"Dec","y":6552.47713555582,"grp":"D"},{"x":"Sep","y":9561.32358615287,"grp":"D"},{"x":"Dec","y":4810.65118173137,"grp":"D"},{"x":"Jan","y":4784.85341882333,"grp":"D"},{"x":"Feb","y":9227.35475120135,"grp":"D"},{"x":"Jun","y":9608.87908074073,"grp":"D"},{"x":"Oct","y":5950.95993578434,"grp":"D"},{"x":"Jun","y":7907.04462653957,"grp":"D"},{"x":"Jun","y":6505.25225675665,"grp":"D"},{"x":"Feb","y":8435.2811393328,"grp":"D"},{"x":"Mar","y":9669.52516976744,"grp":"D"},{"x":"Mar","y":3082.91683113202,"grp":"D"},{"x":"Feb","y":5788.71161211282,"grp":"D"},{"x":"May","y":7488.73735847883,"grp":"D"},{"x":"Oct","y":5186.14390632138,"grp":"D"},{"x":"Sep","y":5121.32385373116,"grp":"D"},{"x":"Jun","y":4867.67104780301,"grp":"D"},{"x":"Jun","y":1231.65205563419,"grp":"D"},{"x":"Jul","y":5639.96846228838,"grp":"D"},{"x":"Jul","y":8059.08176791854,"grp":"D"},{"x":"Aug","y":7498.92143160105,"grp":"D"},{"x":"Dec","y":5885.7375853695,"grp":"D"},{"x":"Aug","y":9779.20054970309,"grp":"D"},{"x":"Oct","y":3538.4638661053,"grp":"D"},{"x":"Feb","y":1180.2577667404,"grp":"D"},{"x":"Jun","y":9237.81784949824,"grp":"D"},{"x":"Apr","y":6878.44207650051,"grp":"D"},{"x":"Mar","y":3891.16889284924,"grp":"D"},{"x":"Jun","y":3423.91984933056,"grp":"D"},{"x":"Feb","y":6260.00927621499,"grp":"D"},{"x":"Jan","y":5166.38835147023,"grp":"D"},{"x":"Jun","y":1032.55809471011,"grp":"D"},{"x":"Oct","y":8452.74234726094,"grp":"D"},{"x":"Aug","y":8266.26570289955,"grp":"D"},{"x":"Aug","y":8191.5329056792,"grp":"D"},{"x":"Sep","y":1587.39793207496,"grp":"D"},{"x":"Mar","y":5894.72215157002,"grp":"D"},{"x":"Jan","y":6462.01958833262,"grp":"D"},{"x":"Sep","y":8647.90947036818,"grp":"D"},{"x":"Jan","y":4046.52856197208,"grp":"D"},{"x":"Feb","y":3911.6365511436,"grp":"D"},{"x":"Sep","y":1926.83471413329,"grp":"D"},{"x":"Apr","y":2549.75317581557,"grp":"D"},{"x":"Nov","y":5288.31688361242,"grp":"D"},{"x":"Jul","y":4285.09490401484,"grp":"D"},{"x":"Oct","y":7806.00208090618,"grp":"D"},{"x":"Jun","y":2332.82856619917,"grp":"D"},{"x":"Apr","y":2214.99160770327,"grp":"D"},{"x":"Oct","y":9999.11251780577,"grp":"D"},{"x":"Dec","y":2984.29935029708,"grp":"D"},{"x":"Feb","y":3758.56598187238,"grp":"D"},{"x":"Jul","y":4662.20129164867,"grp":"D"},{"x":"Oct","y":6470.67357227206,"grp":"D"},{"x":"Jul","y":2130.51798916422,"grp":"D"},{"x":"Oct","y":8716.07879735529,"grp":"D"},{"x":"Oct","y":6833.17409968004,"grp":"D"},{"x":"Oct","y":2034.99680222012,"grp":"D"},{"x":"Oct","y":7154.85756867565,"grp":"D"},{"x":"Oct","y":7574.93941974826,"grp":"D"},{"x":"May","y":6020.9571798332,"grp":"D"},{"x":"Jul","y":4568.2534717489,"grp":"D"},{"x":"Mar","y":7668.85934886523,"grp":"D"},{"x":"May","y":5147.18325086869,"grp":"D"},{"x":"Jan","y":2385.50851750188,"grp":"D"},{"x":"Apr","y":8122.73105722852,"grp":"D"},{"x":"Jun","y":8688.94399725832,"grp":"D"},{"x":"Apr","y":2956.09269128181,"grp":"D"},{"x":"Dec","y":1673.10457048006,"grp":"D"},{"x":"Feb","y":9883.8890241459,"grp":"D"},{"x":"Oct","y":9611.20347050019,"grp":"D"},{"x":"Sep","y":9175.00084335916,"grp":"D"},{"x":"Feb","y":7901.1098346673,"grp":"D"},{"x":"Mar","y":2893.50763545372,"grp":"D"},{"x":"Aug","y":4811.94168678485,"grp":"D"},{"x":"Sep","y":5597.37860620953,"grp":"D"},{"x":"Jun","y":1666.80149664171,"grp":"D"},{"x":"May","y":6330.01134824008,"grp":"D"},{"x":"Aug","y":2322.16119673103,"grp":"D"},{"x":"Nov","y":8813.51293157786,"grp":"D"},{"x":"Sep","y":4484.70711801201,"grp":"D"},{"x":"Jun","y":1516.52723294683,"grp":"D"},{"x":"Mar","y":4609.06988475472,"grp":"D"},{"x":"May","y":6144.12004780024,"grp":"D"},{"x":"Oct","y":1255.97621919587,"grp":"D"},{"x":"Feb","y":1361.44227022305,"grp":"D"},{"x":"Sep","y":7773.05665425956,"grp":"D"},{"x":"Feb","y":5264.91091144271,"grp":"D"},{"x":"Mar","y":4265.15989052132,"grp":"D"},{"x":"Oct","y":4555.64384977333,"grp":"D"},{"x":"Jul","y":4142.77024264447,"grp":"D"},{"x":"Oct","y":1601.83123825118,"grp":"D"},{"x":"Nov","y":8874.76482684724,"grp":"D"},{"x":"Mar","y":6831.39452734031,"grp":"E"},{"x":"Sep","y":5920.56608619168,"grp":"E"},{"x":"Mar","y":2128.0071712099,"grp":"E"},{"x":"Jun","y":1883.32593324594,"grp":"E"},{"x":"Jun","y":4258.11855541542,"grp":"E"},{"x":"Mar","y":2390.26957470924,"grp":"E"},{"x":"May","y":2317.12051713839,"grp":"E"},{"x":"Jun","y":5314.16914355941,"grp":"E"},{"x":"Sep","y":9360.89723580517,"grp":"E"},{"x":"Jul","y":6992.19019385055,"grp":"E"},{"x":"Oct","y":6753.9203511551,"grp":"E"},{"x":"Jun","y":1223.01553539,"grp":"E"},{"x":"Oct","y":9241.26389925368,"grp":"E"},{"x":"Apr","y":3993.16312395968,"grp":"E"},{"x":"Feb","y":8908.41626538895,"grp":"E"},{"x":"Apr","y":6577.8024692554,"grp":"E"},{"x":"Jun","y":1417.01050801203,"grp":"E"},{"x":"Jul","y":2689.30659978651,"grp":"E"},{"x":"Aug","y":5048.44098445028,"grp":"E"},{"x":"Oct","y":7552.26577445865,"grp":"E"},{"x":"Jun","y":3089.42253119312,"grp":"E"},{"x":"May","y":8495.93210453168,"grp":"E"},{"x":"Mar","y":2786.50152496994,"grp":"E"},{"x":"Jun","y":5709.686643444,"grp":"E"},{"x":"Mar","y":7157.09968167357,"grp":"E"},{"x":"Feb","y":6663.45014935359,"grp":"E"},{"x":"Jul","y":6571.66851288639,"grp":"E"},{"x":"Jul","y":6820.65866095945,"grp":"E"},{"x":"Apr","y":7236.05090007186,"grp":"E"},{"x":"Jul","y":8547.45747172274,"grp":"E"},{"x":"Apr","y":4380.34104299732,"grp":"E"},{"x":"Oct","y":1773.27810553834,"grp":"E"},{"x":"Feb","y":6496.5011831373,"grp":"E"},{"x":"Apr","y":6556.51142937131,"grp":"E"},{"x":"Jul","y":9196.91670802422,"grp":"E"},{"x":"Aug","y":9288.28713670373,"grp":"E"},{"x":"Apr","y":4188.23919445276,"grp":"E"},{"x":"Oct","y":8709.81707144529,"grp":"E"},{"x":"Dec","y":6828.50396935828,"grp":"E"},{"x":"Mar","y":1994.6841688361,"grp":"E"},{"x":"Mar","y":5296.90295108594,"grp":"E"},{"x":"Feb","y":7185.07370725274,"grp":"E"},{"x":"Mar","y":4150.3881898243,"grp":"E"},{"x":"May","y":7303.74319828115,"grp":"E"},{"x":"Aug","y":4572.01660261489,"grp":"E"},{"x":"May","y":9314.1031533014,"grp":"E"},{"x":"Feb","y":7652.9829534702,"grp":"E"},{"x":"Jun","y":9701.27293141559,"grp":"E"},{"x":"Jan","y":3652.75565045886,"grp":"E"},{"x":"Jul","y":1812.74915602989,"grp":"E"},{"x":"Oct","y":8206.61119930446,"grp":"E"},{"x":"Jun","y":3204.88385506906,"grp":"E"},{"x":"Nov","y":7102.20310883597,"grp":"E"},{"x":"May","y":8324.20665211976,"grp":"E"},{"x":"Oct","y":2505.6526241824,"grp":"E"},{"x":"Feb","y":5526.44863654859,"grp":"E"},{"x":"Sep","y":2957.73327280767,"grp":"E"},{"x":"Jun","y":4256.69563305564,"grp":"E"},{"x":"Sep","y":6289.40868214704,"grp":"E"},{"x":"Aug","y":2484.19481585734,"grp":"E"},{"x":"Aug","y":9810.88954792358,"grp":"E"},{"x":"Nov","y":4668.10629633255,"grp":"E"},{"x":"Apr","y":3241.84575560503,"grp":"E"},{"x":"Jan","y":6094.55065010116,"grp":"E"},{"x":"Jan","y":2933.59474744648,"grp":"E"},{"x":"Jan","y":6591.48054919206,"grp":"E"},{"x":"Oct","y":3939.42992575467,"grp":"E"},{"x":"Jun","y":2269.37909936532,"grp":"E"},{"x":"Dec","y":3610.8379077632,"grp":"E"},{"x":"Mar","y":7889.25264775753,"grp":"E"},{"x":"Aug","y":8263.23730242439,"grp":"E"},{"x":"Mar","y":2420.18547141925,"grp":"E"},{"x":"Jun","y":6984.74002094008,"grp":"E"},{"x":"Aug","y":1367.96138132922,"grp":"E"},{"x":"Jun","y":7482.45510319248,"grp":"E"},{"x":"Feb","y":6900.90660168789,"grp":"E"},{"x":"Mar","y":2516.65962836705,"grp":"E"},{"x":"Apr","y":5459.68412701041,"grp":"E"},{"x":"Sep","y":9313.78254760057,"grp":"E"},{"x":"Sep","y":9659.24719208851,"grp":"E"},{"x":"Feb","y":6702.11503887549,"grp":"E"},{"x":"Feb","y":2161.63114854135,"grp":"E"},{"x":"Nov","y":6465.47781489789,"grp":"E"},{"x":"Feb","y":3281.56015998684,"grp":"E"},{"x":"Nov","y":9346.12296638079,"grp":"E"},{"x":"Mar","y":1932.70336440764,"grp":"E"},{"x":"Aug","y":4687.45407997631,"grp":"E"},{"x":"May","y":4055.67811755463,"grp":"E"},{"x":"Aug","y":2678.84338623844,"grp":"E"},{"x":"Nov","y":3725.17582192086,"grp":"E"},{"x":"Jul","y":6789.55727186985,"grp":"E"},{"x":"Dec","y":8271.65489783511,"grp":"E"},{"x":"Feb","y":2855.48254498281,"grp":"E"},{"x":"Apr","y":1324.16325504892,"grp":"E"},{"x":"Mar","y":6361.9653172791,"grp":"E"},{"x":"Apr","y":4109.7630225122,"grp":"E"},{"x":"Oct","y":6502.68798740581,"grp":"E"},{"x":"Apr","y":9640.18577197567,"grp":"E"},{"x":"Dec","y":2275.35886853002,"grp":"E"},{"x":"Sep","y":6271.08131139539,"grp":"E"},{"x":"Oct","y":8861.9938029442,"grp":"E"},{"x":"Aug","y":1602.1906605456,"grp":"E"},{"x":"Jan","y":9836.16434293799,"grp":"E"},{"x":"Jan","y":4667.90533182211,"grp":"E"},{"x":"Aug","y":1908.83208974265,"grp":"E"},{"x":"Jul","y":7497.63348721899,"grp":"E"},{"x":"Sep","y":6511.58020598814,"grp":"E"},{"x":"Jan","y":8911.52218170464,"grp":"E"},{"x":"Aug","y":9426.16566782817,"grp":"E"},{"x":"Jul","y":2283.97497255355,"grp":"E"},{"x":"Aug","y":2742.09442618303,"grp":"E"},{"x":"Jul","y":1302.00835946016,"grp":"E"},{"x":"Mar","y":7039.0640029218,"grp":"E"},{"x":"Oct","y":2062.09359667264,"grp":"E"},{"x":"Apr","y":8354.03525969014,"grp":"E"},{"x":"Jan","y":3845.35176726058,"grp":"E"},{"x":"Sep","y":2116.94222292863,"grp":"E"},{"x":"Nov","y":3385.37290156819,"grp":"E"},{"x":"Jul","y":7815.82832429558,"grp":"E"},{"x":"Feb","y":4336.82098635472,"grp":"E"},{"x":"Sep","y":2234.71308173612,"grp":"E"},{"x":"Aug","y":6744.29331207648,"grp":"E"},{"x":"Jan","y":2687.7057380043,"grp":"E"},{"x":"Jun","y":9165.52482941188,"grp":"E"},{"x":"Jul","y":2214.55793222412,"grp":"E"},{"x":"Aug","y":1443.93821223639,"grp":"E"},{"x":"Apr","y":1498.83439112455,"grp":"E"},{"x":"Sep","y":4471.4817320928,"grp":"E"},{"x":"May","y":3323.70543153957,"grp":"E"},{"x":"Mar","y":8499.56534942612,"grp":"E"},{"x":"Jun","y":5423.89685800299,"grp":"E"},{"x":"Apr","y":5904.63431575336,"grp":"E"},{"x":"Aug","y":7204.82117985375,"grp":"E"},{"x":"Sep","y":1322.74686428718,"grp":"E"},{"x":"Mar","y":2994.51088043861,"grp":"E"},{"x":"Jun","y":2829.13149683736,"grp":"E"},{"x":"Jan","y":7591.58025518991,"grp":"E"},{"x":"Jul","y":6290.87658389471,"grp":"E"},{"x":"May","y":4038.48218428902,"grp":"E"},{"x":"Mar","y":1067.39290920086,"grp":"E"},{"x":"Nov","y":3523.52889254689,"grp":"E"},{"x":"Jun","y":8896.29907393828,"grp":"E"},{"x":"Sep","y":2931.29543634132,"grp":"E"},{"x":"Jun","y":6517.45716691948,"grp":"E"},{"x":"Apr","y":2804.94314106181,"grp":"E"},{"x":"Jun","y":6260.36810339428,"grp":"E"},{"x":"Jun","y":8238.2312794216,"grp":"E"},{"x":"May","y":9708.47646682523,"grp":"E"},{"x":"Feb","y":5233.24876883999,"grp":"E"},{"x":"Apr","y":4936.97540601715,"grp":"E"},{"x":"Mar","y":9701.49281388149,"grp":"E"},{"x":"Apr","y":9405.90354637243,"grp":"E"},{"x":"Oct","y":3151.12116094679,"grp":"E"},{"x":"Sep","y":2103.99863240309,"grp":"E"},{"x":"Aug","y":3784.96722923592,"grp":"E"},{"x":"Jul","y":3729.6193013899,"grp":"E"},{"x":"Sep","y":8223.25726505369,"grp":"E"},{"x":"May","y":2477.49280952848,"grp":"E"},{"x":"Feb","y":3180.13807549141,"grp":"E"},{"x":"Nov","y":4372.32217472047,"grp":"E"},{"x":"Feb","y":2643.6391833704,"grp":"E"},{"x":"Jul","y":3525.26574023068,"grp":"E"},{"x":"Oct","y":1867.07184719853,"grp":"E"},{"x":"Jun","y":4644.52301338315,"grp":"E"},{"x":"Apr","y":3710.3229155764,"grp":"E"},{"x":"Jul","y":1083.19722232409,"grp":"E"},{"x":"Mar","y":4569.0643475391,"grp":"E"},{"x":"Jul","y":3099.47179607116,"grp":"E"},{"x":"Feb","y":9163.51406322792,"grp":"E"},{"x":"Sep","y":5733.62904693931,"grp":"E"},{"x":"Jun","y":4020.00862476416,"grp":"E"},{"x":"Feb","y":4872.55350640044,"grp":"E"},{"x":"Feb","y":9468.95694313571,"grp":"E"},{"x":"Jul","y":8524.10281356424,"grp":"E"},{"x":"Aug","y":9674.69003563747,"grp":"E"},{"x":"Nov","y":6985.43967097066,"grp":"E"},{"x":"Feb","y":3390.99035249092,"grp":"E"},{"x":"Jun","y":5328.44815566204,"grp":"E"},{"x":"Feb","y":3089.47137044743,"grp":"E"},{"x":"Sep","y":1733.03730296902,"grp":"E"},{"x":"Jan","y":8319.64643578976,"grp":"E"},{"x":"Oct","y":6522.10229821503,"grp":"E"},{"x":"Mar","y":5269.75085702725,"grp":"E"},{"x":"Oct","y":6758.24993103743,"grp":"E"},{"x":"May","y":4568.2861674577,"grp":"E"},{"x":"Apr","y":1407.60648623109,"grp":"E"},{"x":"Jun","y":3247.31099535711,"grp":"E"},{"x":"Mar","y":4517.1233699657,"grp":"E"},{"x":"Jun","y":4903.37603166699,"grp":"E"},{"x":"Jul","y":1731.57328204252,"grp":"E"},{"x":"Aug","y":2821.80680311285,"grp":"E"},{"x":"Apr","y":9961.30769955926,"grp":"E"},{"x":"May","y":8481.91005014814,"grp":"E"},{"x":"Feb","y":4154.81733414344,"grp":"E"},{"x":"Nov","y":3135.2208268363,"grp":"E"},{"x":"Nov","y":5562.0274937246,"grp":"E"},{"x":"Apr","y":2485.11121771298,"grp":"E"},{"x":"Mar","y":1564.20988519676,"grp":"E"},{"x":"Aug","y":3829.61619622074,"grp":"E"},{"x":"Dec","y":2470.87507275864,"grp":"E"}];
  
  return drawChart(opts,data);
  
  function drawChart(opts, data){ 
    var subCharts = [];
    
    var c = null;
    var assignedColors = {};
    
      //move this to top or make function since duplicated
    //allow manipulation of default colors to use with dimple
    if(opts.defaultColors.length) {
      defaultColorsArray = [];
      if (typeof(opts.defaultColors) == "function") {
        //assume this is a d3 scale
        //if there is a domain for the color scale given
        //then we will need to assign colors with dimples assignColor
        if( opts.defaultColors.domain().length > 0 ){
          defaultColorsArray = opts.defaultColors.range();
          opts.defaultColors.domain().forEach( function( d, i ) {
            assignedColors[d] = new dimple.color(opts.defaultColors.range()[i])
          })
        } else {
          for (var n=0;n<opts.defaultColors.range().length;n++) {
            defaultColorsArray.push(opts.defaultColors(n));
          };
        }
      } else {
        defaultColorsArray = opts.defaultColors;
      }
  
      
      //if colors not assigned with no keys and opts.groups
      if (!(Object.keys(assignedColors).length) & Boolean(opts.groups)) {
        //let's just assign colors in order with each unique
        //this is important if facetting where need colors assigned
        //if not in all pairs
        opts.groups = (typeof opts.groups == "string") ? [opts.groups] : opts.groups;
        d3.set(
          data.map(function(d){
            //dimple colors by last item in groups
            return d[opts.groups[opts.groups.length-1]]
          })
        ).values().forEach(function(u,i){
          //u will be our uniqe and will pick color from defaultColorsArray
          //console.log([u,defaultColorsArray[i]].concat());
          assignedColors[u] = new dimple.color(defaultColorsArray[i % defaultColorsArray.length])
        })
      }
    }
  
    
    //do series
    //set up a function since same for each
    //as of now we have x,y,groups,data,type in opts for primary layer
    //and other layers reside in opts.layers
    function buildSeries(layer, hidden, myChart){
      //inherit from primary layer if not intentionally changed or xAxis, yAxis, zAxis null
      if (!layer.xAxis) layer.xAxis = opts.xAxis;    
      if (!layer.yAxis) layer.yAxis = opts.yAxis;
      if (!layer.zAxis) layer.zAxis = opts.zAxis;
      
      var x = buildAxis("x", layer, myChart);
      x.hidden = hidden;
      
      var y = buildAxis("y", layer, myChart);
      y.hidden = hidden;
      
      //z for bubbles
      var z = null;
      if (!(typeof(layer.zAxis) === 'undefined') && layer.zAxis.type){
        z = buildAxis("z", layer, myChart);
      };
      
      //here think I need to evaluate group and if missing do null
      //as the group argument
      //if provided need to use groups from layer
      var s = new dimple.series(myChart, null, x, y, z, c, dimple.plot[layer.type], dimple.aggregateMethod.avg, dimple.plot[layer.type].stacked);
      
      //as of v1.1.4 dimple can use different dataset for each series
      if(layer.data){
        //convert to an array of objects
        var tempdata;
        //avoid lodash for now
        datakeys = d3.keys(layer.data)
        tempdata = layer.data[datakeys[1]].map(function(d,i){
          var tempobj = {}
          datakeys.forEach(function(key){
            tempobj[key] = layer.data[key][i]
          })
          return tempobj
        })
        s.data = tempdata;
      }
      
      if(layer.hasOwnProperty("groups")) {
        s.categoryFields = (typeof layer.groups === "object") ? layer.groups : [layer.groups];
        //series offers an aggregate method that we will also need to check if available
        //options available are avg, count, max, min, sum
      }
      if (!(typeof(layer.aggregate) === 'undefined')) {
        s.aggregate = eval(layer.aggregate);
      }
      if (!(typeof(layer.lineWeight) === 'undefined')) {
        s.lineWeight = layer.lineWeight;
      }
      if (!(typeof(layer.barGap) === 'undefined')) {
        s.barGap = layer.barGap;
      }    
      if (!(typeof(layer.interpolation) === 'undefined')) {
        s.interpolation = layer.interpolation;
      }     
     /* if (!(typeof(layer.eventHandler) === 'undefined')) {
        layer.eventHandler = (layer.eventHandler.length === "undefined") ? layer.eventHandler : [layer.eventHandler];
        layer.eventHandler.forEach(function(evt){
          s.addEventHandler(evt.event, eval(evt.handler))
        })
      }*/
        
      myChart.series.push(s);
      
      /*placeholder fix domain of primary scale for new series data
      //not working right now but something like this
      //for now just use overrideMin and overrideMax from rCharts
      for( var i = 0; i<2; i++) {
        if (!myChart.axes[i].overrideMin) {
          myChart.series[0]._axisBounds(i==0?"x":"y").min = myChart.series[0]._axisBounds(i==0?"x":"y").min < s._axisBounds(i==0?"x":"y").min ? myChart.series[0]._axisBounds(i==0?"x":"y").min : s._axisBounds(i==0?"x":"y").min;
        }
        if (!myChart.axes[i].overrideMax) {  
          myChart.series[0]._axisBounds(i==0?"x":"y")._max = myChart.series[0]._axisBounds(i==0?"x":"y").max > s._axisBounds(i==0?"x":"y").max ? myChart.series[0]._axisBounds(i==0?"x":"y").max : s._axisBounds(i==0?"x":"y").max;
        }
        myChart.axes[i]._update();
      }
      */
      
      return myChart;
    };
  
      
    //function to build axes
    function buildAxis(position, layer, myChart){
      var axis;
      var axisopts = opts[position+"Axis"];
      
      if(axisopts.measure) {
        axis = myChart[axisopts.type](position,layer[position],axisopts.measure);
      } else {
        axis = myChart[axisopts.type](position, layer[position]);
      };
      if(!(axisopts.type === "addPctAxis")) axis.showPercent = axisopts.showPercent;
      if (axisopts.orderRule) axis.addOrderRule(axisopts.orderRule);
      if (axisopts.grouporderRule) axis.addGroupOrderRule(axisopts.grouporderRule);  
      if (axisopts.overrideMin) axis.overrideMin = axisopts.overrideMin;
      if (axisopts.overrideMax) axis.overrideMax = axisopts.overrideMax;
      if (axisopts.overrideMax) axis.overrideMax = axisopts.overrideMax;
      if (axisopts.inputFormat) axis.dateParseFormat = axisopts.inputFormat;
      if (axisopts.outputFormat) axis.tickFormat = axisopts.outputFormat;    
      return axis;
    };
        
        
  
    //if facet not provided for x or y make Dummy variable
    //handle NULL facet
    if (typeof opts.facet == "undefined") opts.facet = {}
    opts.facet.x = opts.facet.x ? opts.facet.x : "Dummy"
    opts.facet.y = opts.facet.y ? opts.facet.y : "Dummy"    
    if(opts.facet.x === "Dummy" || opts.facet.y === "Dummy") {
      data.forEach(function(d){
        d.Dummy = 1;
      })
    }
  
    var rows = d3.set(data.map(function(d){return d[opts.facet.y]})).values();
    var nrow = opts.facet.nrow ? opts.facet.nrow : rows.length;
    var cols = d3.set(data.map(function(d){return d[opts.facet.x]})).values()
    var ncol = opts.facet.ncol ? opts.facet.ncol : cols.length;
    
    var tuples = d3.merge(rows.map(function(row,irow){return cols.map(function(col,icol){return {key:row + "~" + col, values: {"row":irow, "col":icol} }})}))
      
    var grid = d3.layout.grid()
      .rows( nrow )
      .cols( ncol )
      .size([ opts.width, opts.height-100])
      .bands();
    
    var svgGrid = d3.select("#" + opts.id).append("svg")
      .attr("width", opts.width)
      .attr("height", opts.height);
     // .attr("transform", "translate(50,0)");
  
    grid(tuples);
  
  /* var cells = d3.select("#" + opts.id).selectAll("svg")
      .data(grid(tuples))
      .enter()
        .append("svg")
          .attr("class", "cell")
          .attr("id", function(d) {
            return d.key;
          })
          .attr("transform", function(d, i) {
             return "translate(" + d.x + "," + d.y + ")"
           })
          .attr("width", grid.nodeSize()[0])
          .attr("height", grid.nodeSize()[1]);
  
    var color = d3.scale.linear()
      .domain([0, 3, 6])
      .range(["red", "lightgray", "green"]);
      
  /*  cells.selectAll("rect")
      .data(function(d){
        return [d];
      })
        .enter().append("rect")
          .attr("width", grid.nodeSize()[0])
          .attr("height", grid.nodeSize()[1])
          .style("fill", function(d) {return color(d.values.row)});         
  */
      tuples.forEach(function(cell,cellnum) {
          //cell = d3.select(cell);
      
          // Filter the data set for the quarter and the price tier
          // of the current shape
          var filteredData = dimple.filterData(data, opts.facet.x, cell.key.split('~')[1]);
          filteredData = dimple.filterData(filteredData, opts.facet.y, cell.key.split('~')[0]);    
          
          // Draw a new chart which will go in the current shape
          var subChart = new dimple.chart(svgGrid, filteredData);
  
          if (tuples.length > 1){
            // Position the chart inside the shape
            subChart.height = grid.nodeSize()[1]
            subChart.width = grid.nodeSize()[0]      
            
            if (opts.margins) {
              subChart.setBounds(
                parseFloat(cell.x + opts.margins.left),
                parseFloat(cell.y + opts.margins.top),
                subChart.width - opts.margins.right- opts.margins.left,
                subChart.height - opts.margins.top - opts.margins.bottom
              )
            } else {
              subChart.setBounds(
                parseFloat(cell.x + 50), 
                parseFloat(cell.y + 10),
                parseFloat(grid.nodeSize()[0] - 50),
                parseFloat(grid.nodeSize()[1]) - 10
              );
            }  
          } else { //only one chart
            if (opts.bounds) {
              subChart.setBounds(opts.bounds.x, opts.bounds.y, opts.bounds.width, opts.bounds.height);//myChart.setBounds(80, 30, 480, 330);
            }
          }
          
            //dimple allows use of custom CSS with noFormats
            if(opts.noFormats) { subChart.noFormats = opts.noFormats; };
            
            //need to fix later for better colorAxis support
            if(d3.keys(opts.colorAxis).length > 0) {
              c = subChart[opts.colorAxis.type](opts.colorAxis.colorSeries,opts.colorAxis.palette) ;
              if(opts.colorAxis.outputFormat){
                c.tickFormat = opts.colorAxis.outputFormat;
              }
            }
          
            //add the colors from the array into the chart's defaultColors
            if (typeof defaultColorsArray != "undefined"){
              subChart.defaultColors = defaultColorsArray.map(function(d) {
                return new dimple.color(d);
              });          
            }
            subChart._assignedColors = assignedColors;
            
            subChart = buildSeries(opts, false, subChart);
            if (opts.layers.length > 0) {
              opts.layers.forEach(function(layer){
                subChart = buildSeries(layer, true, subChart);
              })
            }
          
            //unsure if this is best but if legend is provided (not empty) then evaluate
            if(d3.keys(opts.legend).length > 0) {
              var l =subChart.addLegend();
              d3.keys(opts.legend).forEach(function(d){
                l[d] = opts.legend[d];
              });
            }
            //quick way to get this going but need to make this cleaner
            if(opts.storyboard) {
              subChart.setStoryboard(opts.storyboard);
            };
            
            //catch all for other options
            //these can be provided by dMyChart$chart( ... )
              
            
            //add facet row and column in case we need later
            subChart.facetposition = cell.values;
            
            subCharts.push(subChart);
          })
  
      subCharts.forEach(function(subChart) {
        subChart.draw();
      })
    
    //get rid of all y for those not in column 1
    //can easily customize this to only remove bits and pieces
    if(opts.facet.removeAxes) {
      ["x","y","z"].forEach(function(position){
        //work on axis scaling
        //assume if remove then same scales for all charts
        axisdomain = [];      
        subCharts.forEach(function(subChart){
          subChart.axes.forEach(function(axis){
            if (axis.position === position && !axis._hasCategories()){
              axisdomain.push(axis._scale.domain())
            }
          })
        });
        axisdomain = d3.extent([].concat.apply([], axisdomain));
        subCharts.forEach(function(subChart){
          subChart.axes.forEach(function(axis){
            if (axis.position === position && !axis._hasCategories()){
              axis.overrideMin = axisdomain[0];
              axis.overrideMax = axisdomain[1];
            }
          })
          subChart.draw(null,true)
        });
      })
      
      //evaluate which do not fall in column 1 or row 1 to remove
      var xpos = d3.extent(subCharts,function(d){return d.x});
      var ypos = d3.extent(subCharts,function(d){return d.y});    
      subCharts.filter(function(d){
        return d.x!=xpos[0];
      }).forEach(function(d){
        d.series[0]._dropLineOrigin = function(){
          return {"x" : xpos[0],"y" : ypos[1] + d._heightPixels()}
        }
        d.axes.forEach(function(axis){
          if (axis.position === "y"){
            //leave there for reference but set opacity 0
            if (axis.shapes) axis.shapes.style("opacity",0);
            if (axis.titleShape) axis.titleShape.style("opacity",0);
          }
        })
      });
      //now x for those not in row 1
      subCharts.filter(function(d){
        return d.y!=ypos[1];
      }).forEach(function(d){
        d.series[0]._dropLineOrigin = function(){
          return {"x" : xpos[0],"y" : ypos[1] + d._heightPixels()}
        }        
        d.axes.forEach(function(axis){
          if (axis.position === "x"){
            //leave there for reference but set opacity 0
            if (axis.shapes) axis.shapes.style("opacity",0);
            if (axis.titleShape) axis.titleShape.style("opacity",0);
          }
        })
      });
    }
  return subCharts;
  }
})();
</script>

<script>
  function updateChartColors( colors ){
    var dcolors = colors.map(function(col){
      return new dimple.color(col);
    })
    chart10682b162077.forEach(function(cht){
      Object.keys(cht._assignedColors).forEach(function(k,i){
        cht._assignedColors[k] = dcolors[i % dcolors.length];
      })
      cht.defaultColors = dcolors;
      cht.draw();
    })
  }
</script></div>
      </div>
    </div>
    <script>
              d3.selectAll("input").on("change",function(){
                updateColors(  );
              });

              d3.selectAll("#scheme_buttons li a").on("click",function(){
                var selText = $(this).text();
               $(this).parents(".btn-group").find(".dropdown-toggle").html(selText+" <span class='caret'></span>");
               updateColors( );
              })

              d3.selectAll("#variation_buttons li a").on("click",function(){
                var selText = $(this).text();
               $(this).parents(".btn-group").find(".dropdown-toggle").html(selText+" <span class='caret'></span>");
               updateColors( );
              })

              ColorPicker(
                document.getElementById("slide"),
                document.getElementById("picker"),
                function(hex, hsv, rgb) {
                  document.getElementById("color_row").style.backgroundColor = chroma.hex(hex).css();
                  d3.selectAll("#slide,#picker").datum([hex,hsv,rgb]);
                  updateColors( );
                });
               
              function updateColors( ) {
                var hex = d3.selectAll("#slide,#picker").datum()[0];
                var hue = d3.selectAll("#slide,#picker").datum()[1].h;

                colors = (new ColorScheme).from_hue( hue ) //chroma.hex(hex).hsv()[0] )
                  //.from_hex( hex.replace("#", "" ).toUpperCase() )
                  .scheme(d3.select("#scheme_selection").text().toLowerCase().replace(/[ \t\r\n]+/g,""))
                  .variation(d3.select("#variation_selection").text().toLowerCase().replace(/[ \t\r\n]+/g,""))
                  .colors().map(function(col){return "#" + col})

                if (d3.select("#scheme_selection").text().toLowerCase().replace(/[ \t\r\n]+/g,"") != "monochromatic")  colors.splice(0,0,hex);

                if (d3.select("#bez").node().checked){
                  if( d3.select("#scheme_selection").text().toLowerCase().replace(/[ \t\r\n]+/g,"") != "monochromatic"){
                    //if not monochromatic then will pick 0,3,4,...,length-1
                      colors = colors.filter(function(col,i){
                        if( (colors.length < 9 && i % 4 < 2 ) || (colors.length >= 9 && i % 4 === 0) ) { //|| i % 4 === 3 ) {
                          return col;
                        }
                      })
                  }
                  colors = chroma.interpolate.bezier( colors )
                }

                var scale = chroma.scale(colors)
                    .domain([0,+d3.select("#steps")[0][0].value],d3.select("#steps")[0][0].value)
                    .correctLightness( d3.select("#coL").node().checked );

                colors = d3.range(0,d3.select("#steps")[0][0].value,1)
                  .map(function(d){return scale(d).hex()});
                  

                var palette = d3.selectAll("#palette").selectAll("div").data(colors);

                palette
                  .enter()
                    .append("div")
                palette
                  .exit().remove();
                
                palette
                  .style("display", "inline-block")
                  .style("width",d3.format(".4%")(1/colors.length))
                  .style("height",d3.select("#picker").style("height"))
                  .style("background",function(d){return d;})
                  .attr("title",function(d){return d})

                updateChartColors(colors);
              }
        </script>
  </body>
</html> 